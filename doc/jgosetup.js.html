<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jgosetup.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: jgosetup.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Import or create JGO namespace
var JGO = JGO || {};

(function() {
    'use strict';

    /**
    * Setup helper class to make creating JGO.Canvases easy.
    *
    * @param {JGO.Board} jboard Board object to listen to.
    * @param {Object} boardOptions Base board options like JGO.BOARD.large.
    * @constructor
    * @memberof JGO
    */
    JGO.Setup = function(board, boardOptions) {
        var defaults = {
            margin: {color:'white'},
            edge: {top:true, bottom:true, left:true, right:true},
            coordinates: {top:true, bottom:true, left:true, right:true},
            stars: {points: 0 },
            board: {width:board.width, height:board.height},
            view: {xOffset:0, yOffset:0, width:board.width, height:board.height}
        };

        if(board.width == board.height) {
            switch(board.width) { // square
                case 9:
                    defaults.stars.points=5;
                    defaults.stars.offset=2;
                    break;
                case 13:
                case 19:
                    defaults.stars.points=9;
                    defaults.stars.offset=3;
                    break;
            }
        }

        this.board = board; // board to follow
        this.notifier = new JGO.Notifier(board); // board change tracker
        this.options = JGO.extend(defaults, boardOptions); // clone

        // Creating these is postponed until create() or createTree() is called
        this.stones = false; // stone drawing facility (JGO.Stones)
        this.boardTexture = false; // board texture
    };

    /**
    * View only a portion of the whole board.
    *
    * @param {int} xOff The X offset.
    * @param {int} yOff The Y offset.
    * @param {int} width The width.
    * @param {int} height The height.
    */
    JGO.Setup.prototype.view = function(xOff, yOff, width, height) {
        this.options.view.xOffset = xOff;
        this.options.view.yOffset = yOff;
        this.options.view.width = width;
        this.options.view.height = height;

        this.options.edge.left = (xOff === 0);
        this.options.edge.right = (xOff+width == this.options.board.width);

        this.options.edge.top = (yOff === 0);
        this.options.edge.bottom = (yOff+height == this.options.board.height);
    };

    /**
    * Replace default options (non-viewport related)
    *
    * @param {Object} options The new options.
    */
    JGO.Setup.prototype.setOptions = function(options) {
        JGO.extend(this.options, options);
    };

    /**
    * Create JGO.Canvas based on current settings. When textures are used,
    * image resources need to be loaded, so the function returns and
    * asynchronously call readyFn after actual initialization.
    *
    * @param {String} elemId The element where to create the canvas in.
    * @param {function} readyFn Function to call with canvas once it is ready.
    */
    JGO.Setup.prototype.create = function(elemId, readyFn) {
        var self = this, options = JGO.extend({}, this.options), instFn;

        instFn = function(images) {
            var jcanvas;

            // Stone drawing facility
            self.stones = new JGO.Stones(images, options);
            self.boardTexture = images.board;

            jcanvas = new JGO.Canvas(elemId, options, self.stones, self.boardTexture);
            jcanvas.draw(self.board, 0, 0, self.board.width-1, self.board.height-1);

            self.notifier.addCanvas(jcanvas); // add canvas to listener

            if(readyFn) readyFn(jcanvas);
        };

        if(this.options.textures) // at least some textures exist
            JGO.util.loadImages(this.options.textures, instFn);
        else // blain BW board
            instFn({black:false,white:false,shadow:false,board:false});
    };

})();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="JGO.Board.html">Board</a></li><li><a href="JGO.Canvas.html">Canvas</a></li><li><a href="JGO.Coordinate.html">Coordinate</a></li><li><a href="JGO.Node.html">Node</a></li><li><a href="JGO.Notifier.html">Notifier</a></li><li><a href="JGO.Record.html">Record</a></li><li><a href="JGO.Setup.html">Setup</a></li><li><a href="JGO.Stones.html">Stones</a></li></ul><h3>Namespaces</h3><ul><li><a href="JGO.html">JGO</a></li><li><a href="JGO.util.html">util</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta2</a> on Sun Mar 15 2015 15:38:06 GMT+0200 (FLE Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
