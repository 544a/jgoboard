<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: jgorecord.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: jgorecord.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Import or create JGO namespace
var JGO = JGO || {};

(function() {

    /**
    * Create a go game record that can handle plays and variations. A JGO.Board
    * object is created that will reflect the current position in game record.
    *
    * @param {int} width Board width.
    * @param {int} height Board height.
    * @constructor
    * @memberof JGO
    */
    JGO.Record = function(width, height) {
        this.jboard = new JGO.Board(width, height ? height : width);
        this.root = this.current = null;
        this.info = {}; // game information
    };

    /**
    * Get current node.
    *
    * @returns {JGO.Node} Current node.
    */
    JGO.Record.prototype.getCurrentNode = function() {
        return this.current;
    };

    /**
    * Create new empty node under current one.
    *
    * @param {Object} info Node information - ko coordinate, comment, etc.
    * @returns {JGO.Node} New, current node.
    */
    JGO.Record.prototype.createNode = function(options) {
        var node = new JGO.Node(this.jboard, this.current, options);

        if(this.root === null)
            this.root = node;

        return (this.current = node);
    };

    /**
    * Advance to the next node in the game tree.
    *
    * @param {int} variation (Optional) parameter to specify which variation to select, if there are several branches
    * @returns {JGO.Node} New current node or null if at the end of game tree.
    */
    JGO.Record.prototype.next = function(variation) {
        if(this.current === null)
            return null;

        if(!variation)
            variation = 0;

        if(variation >= this.current.children.length)
            return null;

        this.current = this.current.children[variation];
        this.current.apply(this.jboard);

        return this.current;
    };

    /**
    * Back up a node in the game tree.
    *
    * @returns {JGO.Node} New current node or null if at the beginning of game tree.
    */
    JGO.Record.prototype.previous = function() {
        if(this.current === null || this.current.parent === null)
            return null; // empty or no parent

        this.current.revert(this.jboard);
        this.current = this.current.parent;

        return this.current;
    };


    /**
    * Go to the beginning of the game tree.
    *
    * @returns {JGO.Node} New current node.
    */
    JGO.Record.prototype.first = function() {
        this.current = this.root;
        this.jboard.clear();

        if(this.current !== null)
            this.current.apply(this.jboard);

        return this.current;
    };

    /**
    * Create a snapshot of current JGO.Record state. Will contain board state and
    * current node.
    *
    * @returns Snapshot to be used with restoreSnapshot().
    */
    JGO.Record.prototype.createSnapshot = function() {
        return {jboard: this.jboard.getRaw(), current: this.current};
    };

    /**
    * Restore the JGO.Record to the state contained in snapshot. Use only if you
    * REALLY * know what you are doing, this is mainly for creating JGO.Record
    * quickly from SGF.
    *
    * @param {Object} Snapshot created with createSnapshot().
    */
    JGO.Record.prototype.restoreSnapshot = function(raw) {
        this.jboard.setRaw(raw.jboard);
        this.current = raw.current;
    };

})();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="JGO.Board.html">Board</a></li><li><a href="JGO.Canvas.html">Canvas</a></li><li><a href="JGO.Coordinate.html">Coordinate</a></li><li><a href="JGO.Node.html">Node</a></li><li><a href="JGO.Notifier.html">Notifier</a></li><li><a href="JGO.Record.html">Record</a></li><li><a href="JGO.Setup.html">Setup</a></li></ul><h3>Namespaces</h3><ul><li><a href="JGO.html">JGO</a></li><li><a href="JGO.util.html">util</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha3</a> on Thu Jan 09 2014 22:36:59 GMT+0200 (FLE Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
