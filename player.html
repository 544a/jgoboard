<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Board</title>
  <style type="text/css">
    /*body {
      background-color: #eeeeee;
    }*/
  </style>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>

<div id="board"></div>

<script type="text/javascript" src="jgoboard.js"></script>
<script type="text/javascript" src="jgocanvas.js"></script>
<script type="text/javascript" src="jgoinit.js"></script>
<script type="text/javascript" src="jgorecord.js"></script>
<script type="text/javascript" src="jgosgf.js"></script>
<script type="text/javascript" src="large/board.js"></script>

<script type="text/javascript">
function initCanvas(canvas) {
  canvas.addListener('click', clickHandler);
}

function clickHandler(coord, ev) {
  var node = jrecord.getCurrentNode();

  if(ev.shiftKey) { // on shift do edit
    var type = jboard.getType(coord);

    if(node.type != JGO.NONE)
      node = jrecord.createNode(); // new node

    node.setType(coord, type == JGO.WHITE ? JGO.CLEAR : type + 1);
  } else {
    if(node.type != player || node.changes.length)
      node = jrecord.createNode(); // new node

    if(!node.play(coord, player)) // default to making a move
      alert('Illegal move!');
    else
      player = (player == JGO.WHITE) ? JGO.BLACK : JGO.WHITE;
  }
}

var jrecord = new JGORecord(13);
var jboard = jrecord.jboard;
var jsetup = new JGOSetup(jboard, JGO.BOARD.largeWalnut);
var player = JGO.WHITE; // next player

jrecord.getCurrentNode().setHandicap(4);
jsetup.setOptions({stars: {points:5}});
jsetup.create('board', function(canvas) {
  initCanvas(canvas);
});
</script>

</body>
</html>
